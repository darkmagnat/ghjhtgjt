const Discord = require('discord.js');

const Util = require('discord.js');

const getYoutubeID = require('get-youtube-id');

const fetchVideoInfo = require('youtube-info');

const YouTube = require('simple-youtube-api');

const youtube = new YouTube("AIzaSyAdORXg7UZUo7sePv97JyoDqtQVi3Ll0b8");

const queue = new Map();

const ytdl = require('ytdl-core');

const fs = require('fs');

const gif = require("gif-search");

const client = new Discord.Client({disableEveryone: true});

const prefix = "!";
/////////////////////////
////////////////////////

var prefix = "!!"
client.on('message', message => {
  if (message.author.x5bz) return;
  if (!message.content.startsWith(prefix)) return;
 
  let command = message.content.split(" ")[0];
  command = command.slice(prefix.length);
 
  let args = message.content.split(" ").slice(1);
 
  if (command == "ban") {
               if(!message.channel.guild) return message.reply('** This command only for servers**');
         
  if(!message.guild.member(message.author).hasPermission("BAN_MEMBERS")) return message.reply("**You Don't Have ` BAN_MEMBERS ` Permission**");
  if(!message.guild.member(client.user).hasPermission("BAN_MEMBERS")) return message.reply("**I Don't Have ` BAN_MEMBERS ` Permission**");
  let user = message.mentions.users.first();
  let reason = message.content.split(" ").slice(2).join(" ");
  /*let b5bzlog = client.channels.find("name", "5bz-log");
 
  if(!b5bzlog) return message.reply("I've detected that this server doesn't have a 5bz-log text channel.");*/
  if (message.mentions.users.size < 1) return message.reply("**Ù…Ù†Ø´Ù† Ø´Ø®Øµ**");
  if(!reason) return message.reply ("**Ø§ÙƒØªØ¨ Ø³Ø¨Ø¨ Ø§Ù„Ø·Ø±Ø¯**");
  if (!message.guild.member(user)
  .bannable) return message.reply("**Ù„Ø§ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø·Ø±Ø¯ Ø´Ø®Øµ Ø§Ø¹Ù„Ù‰ Ù…Ù† Ø±ØªØ¨ØªÙŠ ÙŠØ±Ø¬Ù‡ Ø§Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø¨ÙˆØª Ø±ØªØ¨Ù‡ Ø¹Ø§Ù„ÙŠ**");
 
  message.guild.member(user).ban(7, user);
 
  const banembed = new Discord.RichEmbed()
  .setAuthor(`BANNED!`, user.displayAvatarURL)
  .setColor("RANDOM")
  .setTimestamp()
  .addField("**User:**",  '**[ ' + `${user.tag}` + ' ]**')
  .addField("**By:**", '**[ ' + `${message.author.tag}` + ' ]**')
  .addField("**Reason:**", '**[ ' + `${reason}` + ' ]**')
  message.channel.send({
    embed : banembed
  })
}
});

var prefix = "!!"
client.on('message', message => {
  if (message.author.x5bz) return;
  if (!message.content.startsWith(prefix)) return;
 
  let command = message.content.split(" ")[0];
  command = command.slice(prefix.length);
 
  let args = message.content.split(" ").slice(1);
 
  if (command == "kick") {
               if(!message.channel.guild) return message.reply('** This command only for servers**');
         
  if(!message.guild.member(message.author).hasPermission("KICK_MEMBERS")) return message.reply("**You Don't Have ` KICK_MEMBERS ` Permission**");
  if(!message.guild.member(client.user).hasPermission("KICK_MEMBERS")) return message.reply("**I Don't Have ` KICK_MEMBERS ` Permission**");
  let user = message.mentions.users.first();
  let reason = message.content.split(" ").slice(2).join(" ");
  /*let b5bzlog = client.channels.find("name", "5bz-log");
 
  if(!b5bzlog) return message.reply("I've detected that this server doesn't have a 5bz-log text channel.");*/
  if (message.mentions.users.size < 1) return message.reply("**Ù…Ù†Ø´Ù† Ø´Ø®Øµ**");
  if(!reason) return message.reply ("**Ø§ÙƒØªØ¨ Ø³Ø¨Ø¨ Ø§Ù„Ø·Ø±Ø¯**");
  if (!message.guild.member(user)
  .kickable) return message.reply("**Ù„Ø§ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø·Ø±Ø¯ Ø´Ø®Øµ Ø§Ø¹Ù„Ù‰ Ù…Ù† Ø±ØªØ¨ØªÙŠ ÙŠØ±Ø¬Ù‡ Ø§Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø¨ÙˆØª Ø±ØªØ¨Ù‡ Ø¹Ø§Ù„ÙŠ**");
 
  message.guild.member(user).kick();
 
  const kickembed = new Discord.RichEmbed()
  .setAuthor(`KICKED!`, user.displayAvatarURL)
  .setColor("RANDOM")
  .setTimestamp()
  .addField("**User:**",  '**[ ' + `${user.tag}` + ' ]**')
  .addField("**By:**", '**[ ' + `${message.author.tag}` + ' ]**')
  .addField("**Reason:**", '**[ ' + `${reason}` + ' ]**')
  message.channel.send({
    embed : kickembed
  })
}
});

client.on('message', msg => {
  if (msg.author.bot) return;
  if (!msg.content.startsWith(prefix)) return;
  let command = msg.content.split(" ")[0];
  command = command.slice(prefix.length);
  let args = msg.content.split(" ").slice(1);
 
    if(command === "clear") {
        const emoji = client.emojis.find("name", "wastebasket")
    let textxt = args.slice(0).join("");
    if(msg.member.hasPermission("MANAGE_MESSAGES")) {
    if (textxt == "") {
        msg.delete().then
    msg.channel.send("***```Ø¶Ø¹ Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ù…Ø³Ø­Ù‡Ø§ ğŸ‘Œ```***").then(m => m.delete(3000));
} else {
    msg.delete().then
    msg.delete().then
    msg.channel.bulkDelete(textxt);
        msg.channel.send("```php\nØ¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙŠ ØªÙ… Ù…Ø³Ø­Ù‡Ø§: " + textxt + "\n```").then(m => m.delete(3000));
        }    
    }
}
});

client.on('message', message => {
 
    if (message.content === "!!mutechannel") {
                        if(!message.channel.guild) return message.reply(' This command only for servers');
 
if(!message.member.hasPermission('MANAGE_MESSAGES')) return message.reply(' Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ§Øª');
           message.channel.overwritePermissions(message.guild.id, {
         SEND_MESSAGES: false
 
           }).then(() => {
               message.reply("ØªÙ… ØªÙ‚ÙÙŠÙ„ Ø§Ù„Ø´Ø§Øª :white_check_mark: ")
           });
             }
//â„¢Â¦à¼ºâ™šÆ™á¼¶Õ²Ö|MaSâ™šà¼ºÂ¦â„¢#7105
if (message.content === ".unmutechannel") {
    if(!message.channel.guild) return message.reply(' This command only for servers');
 
if(!message.member.hasPermission('MANAGE_MESSAGES')) return message.reply('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ§Øª');
           message.channel.overwritePermissions(message.guild.id, {
         SEND_MESSAGES: true
 
           }).then(() => {
               message.reply("ØªÙ… ÙØªØ­ Ø§Ù„Ø´Ø§Øª:white_check_mark:")
           });
             }
 
 
 
});

client.on('message', message => {
    if (message.content.startsWith("Ø±Ø§Ø¨Ø·")) {
 
  message.channel.createInvite({
        thing: true,
        maxUses: 100,
        maxAge: 86400
    }).then(invite =>
      message.author.sendMessage(invite.url)
    )
    const embed = new Discord.RichEmbed()
        .setColor("RANDOM")
        .setDescription("| :white_check_mark:  | :heart:  ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Øµ  ")
      message.channel.sendEmbed(embed).then(message => {message.delete(10000)})
              const Embed11 = new Discord.RichEmbed()
        .setColor("RANDOM")
                .setAuthor(message.guild.name, message.guild.iconURL)
        .setDescription(`
**
---------------------
-[${message.guild.name}]  Ù‡Ø°Ø§ Ù‡Ùˆ Ø±Ø§Ø¨Ø· Ø³ÙŠØ±ÙØ±
---------------------
-Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· ØµØ§Ù„Ø­ Ù„ 100 Ù…Ø³ØªØ®Ø¯Ù… ÙÙ‚Ø·
---------------------
-Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· ØµØ§Ù„Ø­ Ù„Ù…Ø¯Ù‡ 24 Ø³Ø§Ø¹Ù‡ ÙÙ‚Ø·
---------------------
**`)
      message.author.sendEmbed(Embed11)
    }
});
 
 
client.on('message', message => {
if (message.content.startsWith(prefix+"!!makechat")) {
    var args = message.content.split(" ").slice(1);
    var argrst = args.join(' ');
                message.guild.createChannel(`${argrst}`, 'text')
      }

	
client.on('message', message => {
if (message.content.startsWith(prefix+"Ø­Ø· Ø§Ù„Ø§Ù…Ø± Ù‡Ù†Ø§")) {
    var args = message.content.split(" ").slice(1);
    var argrst = args.join(' ');
                message.guild.createChannel(`${argrst}`,'voice')
         
        }

client.on('message', message => {
  if (true) {
if (message.content === '.invite') {
      message.author.send('  Ø±Ø§Ø¨Ø· Ø¨ÙˆØªÙƒ  |  ØªÙØ¶Ù„ Ø±Ø¨Ø· Ø§Ù„Ø¨ÙˆØª     ').catch(e => console.log(e.stack));
 
    }
   }
  });
 
 
client.on('message', message => {
     if (message.content === ".invite") {
     let embed = new Discord.RichEmbed()
  .setAuthor(message.author.username)
  .setColor("#9B59B6")
  .addField(" Done | ØªÙ€Ù€Ù€Ù€Ù…" , " |  ØªÙ€Ù€Ù€Ù€Ù… Ø§Ø±Ø³Ù€Ù€Ø§Ù„Ùƒ ÙÙŠ Ø§Ù„Ø®Ù€Ù€Ø§Øµ")
     
     
     
  message.channel.sendEmbed(embed);
    }
}); 


client.on('message', message => {
    if (message.content === '$help') {
        let helpEmbed = new Discord.RichEmbed()
        .setTitle('**Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…ÙŠÙˆØ²Ùƒ...**')
        .setDescription('**(!!) Ø¨Ø±ÙÙƒØ³ Ø§Ù„Ø¨ÙˆØª **')
        .addField('play', 'Ù„ØªØ´ØºÙŠÙ„ Ø§ØºÙ†ÙŠØ©')
        .addField('join', 'Ø¯Ø®ÙˆÙ„ Ø±ÙˆÙ…Ùƒ Ø§Ù„ØµÙˆØªÙŠ')
        .addField('disconnect', 'Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø±ÙˆÙ…Ùƒ Ø§Ù„ØµÙˆØªÙŠ')
        .addField('skip', 'ØªØ®Ø·ÙŠ Ø§Ù„Ø£ØºÙ†ÙŠØ©')
        .addField('pause', 'Ø§ÙŠÙ‚Ø§Ù Ø§Ù„Ø§ØºÙ†ÙŠØ© Ù…Ø¤Ù‚ØªØ§')
        .addField('resume', 'ØªÙƒÙ…Ù„Ø© Ø§Ù„Ø§ØºÙ†ÙŠØ©')
        .addField('queue', 'Ø§Ø¸Ù‡Ø§Ø± Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ´ØºÙŠÙ„')
        .addField('np', 'Ø§Ø¸Ù‡Ø§Ø± Ø§Ù„Ø§ØºÙ†ÙŠØ© Ø§Ù„Ù„ÙŠ Ø§Ù†Øª Ù…Ø´ØºÙ„Ù‡Ø§ Ø­Ø§Ù„ÙŠØ§')
        .setFooter('(!!general_commands) Ù„Ø§Ø¸Ù‡Ø§Ø± Ø§Ù„Ø§ÙˆØ§Ù…Ø± Ø§Ù„Ø¹Ø§Ù…Ø©')
      message.channel.send(helpEmbed);
    }	
});
	
client.on('message', message => {
    if (message.content === 'general_commands') {
        let helpEmbed = new Discord.RichEmbed()
        .setTitle('**Ø£ÙˆØ§Ù…Ø± Ø¹Ø§Ù…Ø©...**')
        .addField('avatar', "Ø§ÙØ§ØªØ§Ø± Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨")
        .addField('gif', 'Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¬ÙŠÙ Ø§Ù†Øª ØªØ·Ù„Ø¨Ù‡')
        .addField('ping', 'Ù…Ø¹Ø±ÙØ© ping Ø§Ù„Ø¨ÙˆØª')
        .setFooter('Ø§Ù„Ù…Ø²ÙŠØ¯ Ù‚Ø±ÙŠØ¨Ø§ Ø§Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡!')
      message.channel.send(helpEmbed);
    }
});

client.on('ready', () => {
   console.log(`----------------`);
      console.log(`Desert Bot- Script By : Diamond Codes`);
        console.log(`----------------`);
      console.log(`ON ${client.guilds.size} Servers '     Script By : Diamond Codes ' `);
    console.log(`----------------`);
  console.log(`Logged in as ${client.user.tag}!`);
client.user.setGame(`Ø¢Ù„ÙØ¢ÙŠÙ‘Ù‘Ø¢Ù…ÙÙ€ ØªÙÙ‹Ù€Ù…ÙÙ€Ø± ÙˆÙ Ø¢Ù„ÙØ³Ù‹Ø³Ù‹Ù€Ù†ÙŒÙŠÙ‘Ù‘Ù†ÙŒ Ù‚Ù‡ÙÙˆÙØ©`,"http://twitch.tv/S-F")
client.user.setStatus("online")
 
});

client.login(process.env.BOT_TOKEN);
